###开发文档 --- 尧俊锋
---

提交时间：2015-10-18

提交到远程分支：feature-yjf

新增类：

*  com.lym.twogoods.message.viewHolder.MessageItemViewHolder.java

* com.lym.twogoods.message.adapter.MessageAdapter.java
*
* com.lym.twogoods.message.adapter.TestAdapter.java
 
* com.lym.twogoods.message.view.EmotionEditText.java
* 

   
 
修改原来的代码：

*  TimeUtil类的getCurrentTime的访问权限改为static
  
*  TimeUtil类的dateToString和stringToDate函数加判断语句
   if(formatType==null)
 		formatType = FORMAT_DATE_TIME;
* ImageUtil类增加dp2px和px2dp函数

* 修改了一些工具类的注释

  
新增开源系统

* BmobIM_V1.1.8beta_20150408.jar

新增布局文件：

*  message_list_item_conversation.xml
*  message_dialog.xml
*  message_dialog.xml
*  message_chat_activity.xml
*  message_chat_add_content.xml
*  message_chat_bottom_bar.xml


新增drawable文件中的xml文件

* message_btn_chat_add_selector.xml
* message_btn_chat_emo_selector.xml
* message_btn_chat_send_selector.xml
* message_chat_add_location_selector.xml
* message_chat_add_picture_selector.xml
* message_chat_add_voice_selector.xml
* message_list_name_color_selector.xml
* message_list_text_color_selector.xml


新增资源文件：

* /res/drawable-hdpi/message_list_newmessage2.9.png
* /res/drawable-hdpi/message_base_horizontal_line.9.png
* /res/drawable-hdpi/message_base_comment_emo_bar.9.png
* /res/drawable-hdpi/message_chat_add_location_press.png
* /res/drawable-hdpi/message_chat_add_location_normal.png
* /res/drawable-hdpi/message_chat_add_normal.png
* /res/drawable-hdpi/message_chat_add_press.png
* /res/drawable-hdpi/message_chat_add_picture.press.png
* /res/drawable-hdpi/message_chat_add_picture.normal.png
* /res/drawable-hdpi/message_chat_base_edit_input.9.png
* /res/drawable-hdpi/message_chat_emo_normal.png
* /res/drawable-hdpi/message_chat_emo_press.png
* /res/drawable-hdpi/message_chat_record.png
* /res/drawable-hdpi/message_chat_send.n.png
* /res/drawable-hdpi/message_chat_send.p.png
* /res/drawable-hdpi/message_chat_top_voice.bg.9.png

-------

提交时间：2015-10-19

提交到远程分支：feature-yjf

新增类：

*  com.lym.twogoods.message.chatfragment.ChatFragment.java


修改的类:

*  com.lym.twogoods.message.ui.ChatActivity.java
*  com.lym.twogoods.message.util.ImageUtil.java
增加getImage(String imagePath)方法，一些方法增加了详细的注释
增加saveBitmap(String imagepath,Bitmap bitmap)方法

------

提交时间：2015-10-22

提交到远程分支：feature-yjf

新增类：




修改的类:

* com.lym.twogoods.message.ui.ChatActivity.java

*  com.lym.twogoods.message.ui.ChatFragment.java

*  com.lym.twogoods.message.util.FileUtil.java
修改了其中的方法
*  com.lym.twogoods.message.util.ImageUtil.java
重载saveBitmap方法


----------

提交时间：2015-10-26

提交到远程分支：feature-yjf

新增类：

* com.lym.twogoods.message.ui.SendPictureActivity.java
* com.lym.twogoods.message.fragment.CameraFragment.java
* com.lym.twogoods.message.fragment.PictureFragment.java


新增的文件

* message_chat_send_local_picture.xml
* message_chat_take_photo.xml
* message_chat_slide_in.xml
* message_chat_slide_out.xml

修改的类:

* com.lym.twogoods.message.ui.ChatActivity.java

*  com.lym.twogoods.message.ui.ChatFragment.java
*  com.lym.twogoods.utils.FileUtil.java  ---修改了一些方法

*  com.lym.twogoods.utils.ImageUtil.java ---修改了getImage和getImageThumbnail方法  增加了decodeSampledBitmapFromFile和
  decodeSampledBitmapFromResource方法


修改的文件

*  string.xml
*  AndroidManifest.xml
*  style.xml

新增资源文件

* message_chat_camera.png
* message_chat_dir_choose.png
* message_chat_pic_dir.png
* message_chat_unselected.png
* message_chat_no.png
* message_chat_selected.png


提交时间：2015-10-27

提交到远程分支：feature-yjf

新增类：



修改的类:

* com.lym.twogoods.message.ui.ChatActivity.java
*  com.lym.twogoods.message.utils.Imageutils.java增加了decodeBitmapFromNet方法来读取网络图片
* com.lym.twogoods.bean.ChatSnapshot.java增加数据成员头像的url和相关get、set函数
* com.lym.twogoods.config.ChatConfiguration.java增加成员变量TYPE_MESSAGE_LOCATION
	

修改的文件

*  string.xml
*  dimens.xml
*  styles.xml
*  AndroidManifest.xml
*  message_chat_item_received_image.xml
*  message_chat_item_received_location.xml
*  message_chat_item_received_voice.xml
*  message_chat_item_received_message.xml
*  message_chat_item_send_image.xml
*  message_chat_item_send_location.xml
*  message_chat_item_send_voice.xml
*  message_chat_item_send_message.xml


新增资源文件

* message_chat_location_default.9.png
* message_chat_voice_left3.png
* message_chat_voice_right3.png
* message_chat_item_receive_msg.9.png 
* message_chat_item_send_msg.9.png
* message_chat_reconding_audio1.png
* message_chat_reconding_audio2.png
* message_chat_reconding_audio3.png


新增drawable里的xml文件

* message_chat_btn_fail_resend.xml



提交时间：2015-11-1 0:30

提交到远程分支：feature-yjf

新增类：

* com.lym.twogoods.message.listener.RecordTouchListener.java 

新增xml布局文件

* app_chat_record_content.xml 与录音相关的的布局文件

修改的类:

* com.lym.twogoods.message.ChatActivity.java
* com.lym.twogoods.message.MessageChatAdapter.java
* com.lym.twogoods..message.ChatFragment.java

* com.lym.twogoods.bean.ChatDetailBean.java删除了newwork_url和direction属性，还有相应的方法。
* com.lym.twogoods.config.ChatConfiguration.java删除了
direction的消息类型
 


修改的xml文件

*  AndroidManifest.xml增加录音的权限
*  strings.xml




提交时间：2015-11-1 13:30

提交到远程分支：feature-yjf


修改的类:

* com.lym.twogoods.bean.ChatDetailBean.java修改status的类型为int
* com.lym.twogoods.message.ChatSnapshot.java增加last_message_status
* com.lym.twogoods..message.MessageConfig.java增加判断last_message_status的字段
* com.lym.twogoods.message.ChatActivity1.java
* com.lym.twogoods.db.OrmDatabaseHelper.java


提交时间：2015-11-16 

提交到远程分支：feature-yjf

新增的类

* com.lym.twogoods.receiver.NetworkTipsBroadcast.java 用来提示网络未连接
* com.lym.twogoods.setting.NewMessageSetting.java 新消息设置

修改的类

* com.lym.twogoods.service.ChatService.java
*  com.lym.twogoods.ui.MainActivity.java   增加broadcastreceive和启动ChatService

修改的文件

*   AndroidManifest.xml 注册NetworkTipsBroadcast，增加手机震动的权限
*   